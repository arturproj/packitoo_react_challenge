(this.webpackJsonppackitoo_react_challenge=this.webpackJsonppackitoo_react_challenge||[]).push([[0],{152:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(29),i=n.n(c),o=n(72),u=n(27),s=n(14),l=n(15),d="SET_PRODUCT",p="SET_BRIEF",j="LOAD_BRIEFS",b="LOAD_PRODUCTS",h="DUMP_ANY",f="FILTER",O="ON_LOADING",m="OFF_LOADING",x={briefs:[],products:[],filterTool:{active:!1,product:null}};var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:var n=t.briefs,r=e.payload;return n.push(r),Object(l.a)(Object(l.a)({},t),{},{briefs:n});case d:var a=t.products;return a.push(e.payload),Object(l.a)(Object(l.a)({},t),{},{products:a});case j:return Object(l.a)(Object(l.a)({},t),{},{briefs:Object(s.a)(e.payload)});case b:return Object(l.a)(Object(l.a)({},t),{},{products:Object(s.a)(e.payload)});case h:return Object(l.a)(Object(l.a)({},t),{},{briefs:e.payload.briefs,products:e.payload.products});case f:return Object(l.a)(Object(l.a)({},t),{},{filterTool:{active:e.payload.active||!1,product:e.payload.product||null}});default:return Object(l.a)({},t)}},g={status:!0};var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(l.a)(Object(l.a)({},t),{},{status:!0});case m:return Object(l.a)(Object(l.a)({},t),{},{status:!1});default:return t}},T=Object(o.a)({briefReducer:v,loadingReducer:y}),I=n(210),C=n(43),F=n(108),k=Object(F.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:C.a.A400}}}),w=n(4),L=n(47),S=n(48),R=n(59),B=n(73),A=n(71),D=n(109);function _(t){return Object(l.a)({},t.briefReducer)}function E(t){return{setBrief:function(e){return t({type:p,payload:e})},loadBriefs:function(e){return t({type:j,payload:e})},loadProducts:function(e){return t({type:b,payload:e})},loadFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({type:f,payload:e})}}}var P=function(t){return t.products},N=Object(D.a)((function(t){return{active:function(){return t.filterTool.active},id:function(){return t.filterTool.product?t.filterTool.product.id:null},product:function(){return t.filterTool.product?t.filterTool.product.name:null}}}),(function(t){return t.briefs}),(function(t,e){return t.active()&&t.id()?e.filter((function(e){return e.productId===t.id()})):Object(s.a)(e)}));function M(t){return Object(l.a)({},t.loadingReducer)}function W(t){return{runLoading:function(){return t({type:O})},stopLoading:function(){return setTimeout((function(){return t({type:m})}),600)}}}var U=function(t){return t.status},q=n(36),z=n.n(q),G=n(61),J=n(44),Y=n.n(J),H="http://localhost:3000",K=function(){Y.a.defaults.headers.common.Accept="application/json",Y.a.defaults.headers.common["Content-Type"]="application/json"},Q=function(){var t=Object(G.a)(z.a.mark((function t(){var e;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(),t.next=3,Y.a.get("".concat(H,"/briefs"));case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(G.a)(z.a.mark((function t(){var e;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(),t.next=3,Y.a.get("".concat(H,"/products"));case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=Object(G.a)(z.a.mark((function t(e){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(),t.next=3,Y.a.post("".concat(H,"/briefs"),e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=n(219),$=n(207),tt=n(206),et=n(203),nt=n(2);var rt=function(t){var e=t.label,n=t.id,r=t.handleTextFieldChange,a=t.products,c=t.productId;return Object(nt.jsxs)(Z.a,{fullWidth:!0,children:[Object(nt.jsx)($.a,{htmlFor:e,children:e}),Object(nt.jsxs)(et.a,{labelId:e,id:n,label:e,value:c,displayEmpty:!0,required:!0,fullWidth:!0,sx:{m:"auto"},onChange:function(t){return r({target:{id:n,value:t.target.value}})},children:[Object(nt.jsx)(tt.a,{disabled:!0,value:0,children:Object(nt.jsx)("em",{children:"None"})}),a.length?a.map((function(t){return Object(nt.jsx)(tt.a,{value:t.id,children:Object(nt.jsx)("em",{children:t.name})},t.id)})):null]})]})},at=n(209),ct=n(208),it=n(212),ot=n(216),ut=n(107),st=n.n(ut),lt=function(t){Object(B.a)(n,t);var e=Object(A.a)(n);function n(t){var r;return Object(L.a)(this,n),(r=e.call(this,t)).state={title:"",productId:0,products:[],comment:""},r.handleTextFieldChange=r.handleTextFieldChange.bind(Object(R.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(R.a)(r)),r}return Object(S.a)(n,[{key:"handleTextFieldChange",value:function(t){var e=t.target,n=e.id,r=e.value;r!==this.state[n]&&this.setState(Object(w.a)({},n,r))}},{key:"handleSubmit",value:function(t){var e=this;this.props.runLoading(),t.preventDefault();var n=this.state,r=n.title,a=n.productId,c=n.comment;X({title:r,productId:a,comment:c}).then((function(t){e.props.loadBriefs([].concat(Object(s.a)(e.props.briefs),[t])),e.props.stopLoading()})).finally((function(){return e.setState({title:"",productId:0,comment:""})}))}},{key:"componentDidMount",value:function(){var t=this;this.props.runLoading(),V().then((function(e){t.props.loadProducts(e),t.props.stopLoading()})),console.log(this.props)}},{key:"render",value:function(){return Object(nt.jsx)(r.Fragment,{children:Object(nt.jsxs)(at.a,{container:!0,spacing:2,children:[Object(nt.jsx)(at.a,{item:!0,xs:12,sm:6,md:12,children:Object(nt.jsx)(ct.a,{required:!0,fullWidth:!0,sx:{m:"auto"},id:"title",label:"Title",value:this.state.title,onChange:this.handleTextFieldChange})}),Object(nt.jsx)(at.a,{item:!0,xs:12,sm:6,md:12,children:Object(nt.jsx)(rt,{label:"Product ID",id:"productId",products:this.props.products,productId:this.state.productId,handleTextFieldChange:this.handleTextFieldChange})}),Object(nt.jsx)(at.a,{item:!0,xs:12,sm:12,md:12,children:Object(nt.jsx)(ct.a,{required:!0,multiline:!0,minRows:3,maxRows:5,fullWidth:!0,sx:{m:"auto"},id:"comment",label:"Comment",value:this.state.comment,onChange:this.handleTextFieldChange})}),Object(nt.jsx)(at.a,{item:!0,children:U(this.props)?Object(nt.jsx)(ot.a,{loading:!0,variant:"outlined",children:"Submit"}):Object(nt.jsx)(it.a,{variant:"contained",endIcon:Object(nt.jsx)(st.a,{}),onClick:this.handleSubmit,children:"save brief"})})]})})}}]),n}(r.Component),dt=Object(u.b)(_,E)(lt),pt=Object(u.b)(M,W)(dt),jt=n(222);var bt=function(){return Object(nt.jsx)("div",{style:{backgroundColor:"#9e9e9e69",position:"relative",height:"98vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1005},children:Object(nt.jsx)(jt.a,{})})},ht=n(223),ft=n(217);function Ot(t){return Object(nt.jsxs)(ht.a,{style:{textAlign:"left",padding:"1em"},children:[Object(nt.jsx)(ft.a,{variant:"h5",component:"p",children:t.title}),Object(nt.jsx)(ft.a,{color:"text.secondary",component:"p",children:t.comment}),Object(nt.jsx)(it.a,{size:"small",children:t.product.name})]})}var mt=n(5),xt=n(215),vt=Object(mt.a)(xt.a)((function(t){var e=t.theme;return Object(l.a)(Object(l.a)({},e.typography.body2),{},{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary})})),gt=function(t){Object(B.a)(n,t);var e=Object(A.a)(n);function n(){return Object(L.a)(this,n),e.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var t=this;Q().then((function(e){return t.props.loadBriefs(e)}))}},{key:"render",value:function(){var t=this;return Object(nt.jsx)(r.Fragment,{children:U(this.props)?Object(nt.jsx)(bt,{}):N(this.props).length?N(this.props).map((function(e,n){return Object(nt.jsx)(vt,{children:Object(nt.jsx)(Ot,{title:e.title,comment:e.comment,product:P(t.props).find((function(t){return t.id===e.productId}))})},n)})):Object(nt.jsx)(vt,{children:"Brefs not found"})})}}]),n}(r.Component),yt=Object(u.b)(_,E)(gt),Tt=Object(u.b)(M,W)(yt),It=n(13),Ct=n(24),Ft=n(202),kt=n(204),wt=n(218);function Lt(t){return{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)}}function St(t){var e=Object(Ct.a)(),n=Object(Ft.a)(e.breakpoints.down("md")),a=r.useState(0),c=Object(It.a)(a,2),i=c[0],o=c[1];return Object(nt.jsxs)(nt.Fragment,{children:[Object(nt.jsxs)(ft.a,{variant:"h6",component:"p",children:["FILTER BAR ",n.toString()]}),Object(nt.jsxs)(kt.a,{scrollButtons:"auto",allowScrollButtonsMobile:n,orientation:n?"horizontal":"vertical",variant:"scrollable",value:i,onChange:function(e,n){t.runLoading(),n>0?t.loadFilter({active:!0,product:P(t).find((function(t){return t.id===n}))||null}):t.loadFilter(),o(n),t.stopLoading()},"aria-label":"vertical filters tab",children:[Object(nt.jsx)(wt.a,Object(l.a)({label:"ALL BRIEFS"},Lt(0)),0),t.products.length?t.products.map((function(t,e){return Object(nt.jsx)(wt.a,Object(l.a)({label:t.name.toUpperCase()},Lt(t.id)),t.id)})):Object(nt.jsx)(wt.a,{label:"no list found"})]})]})}St.defaultProps={products:[]};var Rt=Object(u.b)(_,E)(St),Bt=Object(u.b)(null,W)(Rt),At=n(213),Dt=n(214);var _t=function(){return Object(nt.jsx)(At.a,{maxWidth:"md",className:"main",children:Object(nt.jsx)(Dt.a,{sx:{flexGrow:1},children:Object(nt.jsxs)(at.a,{container:!0,spacing:2,children:[Object(nt.jsxs)(at.a,{item:!0,xs:12,md:4,children:[Object(nt.jsx)(vt,{children:Object(nt.jsx)(pt,{})}),Object(nt.jsx)(vt,{children:Object(nt.jsx)(Bt,{})})]}),Object(nt.jsx)(at.a,{item:!0,xs:12,md:8,children:Object(nt.jsx)(Tt,{})})]})})})},Et=Object(o.b)(T);i.a.render(Object(nt.jsx)(a.a.StrictMode,{children:Object(nt.jsx)(I.a,{theme:k,children:Object(nt.jsx)(u.a,{store:Et,children:Object(nt.jsx)(_t,{})})})}),document.getElementById("root"))}},[[152,1,2]]]);
//# sourceMappingURL=main.533d34cf.chunk.js.map